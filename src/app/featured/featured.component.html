<app-masthead [images]="images" [title]="title" *ngIf="isPage"></app-masthead>
<!-- Featured -->
<section id="featured text-light" style="margin-top: 12rem;">
    <div class="container">
        <h2 class="text-center text-light my-4">
            Get amazing products <em><b class="text-primary text-uppercase">plus</b></em>
        </h2>
        <hr class="style-seven">
        <div class="card text-light mb-4 text-center">
            <div class="card-body">
                <h3 class="text-center">Win a <b>Samsung 50" 4k TV</b> or <b>Galaxy Tab A</b></h3>
                <!-- <hr> -->
                <div class="row">
                    <div class="container">
                        <img [src]="getImage('samsung_tv.png')" style="max-width: 50%;" class="img-fluid border-0"
                            alt="Samsung Product Image">
                        <img [src]="getImage('samsung_tab.png')" style="max-width: 50%;" class="img-fluid border-0"
                            alt="Samsung Product Image">
                    </div>
                </div>
            </div>
            <div class="card-footer">
                <button class="btn mx-auto btn-primary my-4" (click)="openModal(signUpContent)">Learn
                    more</button>
            </div>
        </div>
        <br>
        <app-store [isPage]="false"></app-store>
    </div>
</section>

<ng-template #signUpContent let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Enter Prize Drawing</h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cancel click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="container">
            <div class="row">
                <div class="col-6 p-2">
                    <p>Spend $150 or more and get a chance to win a Samsung 50" 4k TV!</p>
                </div>
                <div class="p-2 col-6">
                    <img [src]="getImage('samsung_tv.png')" width="200" alt="" class="img-fluid">
                </div>

            </div>
            <hr>
            <div class="row">
                <div class="col-6 p-2">
                    <p>Spend $50 or more and get a chance to win a Samsung Galaxy Tab A!</p>
                </div>
                <div class="p-2 col-6"><img [src]="getImage('samsung_tab.png')" width="200" alt="" class="img-fluid">
                </div>
            </div>
        </div>
        <hr>
        <!-- <div class="container">
            <h5 class="text-center">
                Sign-up using Facebook <small><b class="text-danger">(Recommended)</b></small>
            </h5>
            <button role="button" class="btn btn-block" style="background: #4267b2;"><i
                    class="fab fa-facebook-f fa-2x text-light" (click)="fbLoginAndRedirect()"></i></button>
        </div>
        <hr> -->
        <!-- <h5 class="text-center">-OR-</h5>
        <hr> -->
        <p>Please provide your Name, Email, and Phone Number.<br>
            Fields with( <b class="text-danger">*</b> ) are required
        </p>
        <form class="py-4">
            <div class="form-group">
                <label for="name">Name <b class="text-danger">*</b></label>
                <input #name [(ngModel)]="signUp.name" type="text" [maxLength]="30" class="form-control" name="name"
                    id="name" aria-describedby="emailHelpId" placeholder="Name">
                <small id="emailHelpId" class="form-text text-muted">{{name.value.length}}/25</small>
            </div>
            <div class="form-group">
                <label for="name">Email <b class="text-danger">*</b></label>
                <input #email [(ngModel)]="signUp.email" type="email" [maxLength]="30" class="form-control" name="email"
                    id="email" aria-describedby="emailHelpId" placeholder="Email">
                <small id="emailHelpId" class="form-text text-muted">{{email.value.length}}/30</small>
            </div>
            <div class="form-group">
                <label for="phone">Phone <b class="text-danger">*</b></label>
                <input #phone [(ngModel)]="signUp.phone" type="phone" [maxLength]="10" class="form-control" name="phone"
                    pattern="(\+0?1\s)?\(?\d{3}\)?[\s.-]\d{3}[\s.-]\d{4}" id="phone" aria-describedby="phoneHelpId"
                    placeholder="Phone">
                <small id="phoneHelpId" class="form-text text-muted"><em>###-###-####</em></small>
            </div>
            <div class="form-check">
                <label class="form-check-label">
                    <input #optOut [(ngModel)]="signUp.optedOut" type="checkbox" class="form-check-input" name="optOut"
                        id="optOut" value="true">
                    No thanks, just take me to their website
                </label>
            </div>

        </form>
    </div>
    <div class="modal-footer">
        <button role="button" class="btn btn-secondary" (click)="modal.dismiss('Cancel click')">Cancel</button>
        <button role="button" class="btn btn-success" (click)="signupAndRedirect(signUp, title.redirectURL)"
            [disabled]="(!signUp.name || !signUp.email || !signUp.phone) && !signUp.optedOut">Submit</button>

        <div class="mx-3">
            <hr>
            <small class="text-muted">
                After submitting, you will be redirected to our featured partner. You will be entered in prize
                drawing
                once you have purchased their products as listed on each prize displayed.
            </small>
        </div>
    </div>
</ng-template>